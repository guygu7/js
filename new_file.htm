<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="zh-CN">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ --><title>Bootstrap 101 Template</title>
		<!-- Bootstrap -->
		<link href="bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries --><!-- WARNING: Respond.js doesn't work if you view the page via file:// --><!--[if lt IE 9]>
		<script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<div id="test"></div>
		<!--<div id="progress" class="progress">
		<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
		</div>-->
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="jquery-3.2.1/jquery-3.2.1.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
		<script>
		/*
		 * 
		 * 
		 */
		/**
 * @author LC 命名空间  namespace
 */
var LC = {};

/**
 * 公共属性字典
 */
LC.CommonProperty = {
	sign : "lcsign" //通用标记属性，替代id
};
/**
 * 定义组件命名空间
 */
LC.Components = {};

/**
 * 组件所用到的公共方法集合
 */
LC.Components.ComponentFunction = {
};

/**
 * 组件空间中装入进度条类
 * @param {Object} progressID 进度条id
 */
LC.Components.ProgressBar = function(progressID) {
	var signID = progressID;
	if(typeof this.getSignID != 'function'){
		LC.Components.ProgressBar.prototype.getSignID = function(){
			return signID;
		};
	};
	if(typeof this.setSignID != 'function'){
		LC.Components.ProgressBar.prototype.setSignID = function(ID){
			signID = ID;
			return this;//链式
		};
	};
	/**
	 * 获取进度条的DOM对像，通过.append()加入页面
	 * @param {Object} id 进度条id
	 */
	if(typeof this.progressDOM != 'object'){
		//如果不存在则执行一次创建，赋值常量getProgressDOM，存在可以直接获取对象
		LC.Components.ProgressBar.prototype.progressDOM = (function(){
			var sign = LC.CommonProperty.sign;
			var progress = $("<div></div>").attr({
				sign : signID,
				"class" : "progress"
			}).append($("<div></div>").attr({
				"class" : "progress-bar progress-bar-striped active",
				"role" : "progressbar",
				"aria-valuenow" : "0",
				"aria-valuemin" : "0",
				"aria-valuemax" : "100"
			}));
			return progress;
		})();
	}
	/**
	 * 设置运行时间，单位s
	 * @param {Object} time 运行时间
	 */
	if(typeof this.setRunningTime != 'function'){
		LC.Components.ProgressBar.prototype.setRunningTime = function(time){
			//var progress = $("["+sign+"='" + progressName + "']");
			//获得组件内部div progressBar
			var progressChilds = this.progressDOM.children("div.progress-bar");
			//进度条div设置从0%到100%的运行时间
			progressChilds.first().css({
				"-webkit-transition" : " width "+time+"s linear ",
				"-moz-transition" : " width "+time+"s linear ",
				"-o-transition" : " width "+time+"s linear ",
				"transition" : " width "+time+"s linear "
			});
			//影子div
			//progressChild.first().next();
			return this;//链式
		};
	};
	/**
	 * 运行，开始读条
	 */
	if(typeof this.start != 'function'){
		LC.Components.ProgressBar.prototype.start = function(){
			//获得组件内部div progressBar
			var progressChilds = this.progressDOM.children("div.progress-bar");
			progressChilds.first().attr({"style":"width:100%"});
			//影子div
			//progressChild.first().next();
			return this;//链式
		};
	}
};

/**
 * 组件空间中加入进度条工厂
 */
LC.Components.ProgressBarFactory = {
	/**
	 * 创建并返回一个标识为传入name样式为style1的进度条html对象progress，请调用.append()加入页面中显示
	 * @param {Object} progressID 进度条id
	 */
	createProgressBar : function(progressID) {
		var returnProgress = new LC.Components.ProgressBar(progressID);
		return returnProgress;
	}

};

</script>

		<script>
		var progress1 = new LC.Components.ProgressBarFactory.createProgressBar("testID");
		var progress2 = new LC.Components.ProgressBarFactory.createProgressBar("testID2");
		$("#test").append(progress1.progressDOM);
		progress1.setRunningTime("10");
		progress1.start();
		/*
			var progress1 = LC.Components.ProgressBarFactory.createProgressBar("testName");
			$("#test").append();
			LC.Components.ProgressBarFactory.progressSetTime("testName","5");
			LC.Components.ProgressBarFactory.progressStart("testName");
		*/
		</script>
	</body>
</html>
