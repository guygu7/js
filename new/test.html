<!DOCTYPE html>
<html>
<body>

<div id="result"></div>

<script>
DataModle = {
	Obj : function () {},
};
DataModleFactory = {
	createObj:function() {
		var obj = new DataModle.Obj();
		var str = "str";
		obj.getStr = function() {
			return str;
		};
		obj.setStr = function(pram) {
			str = pram;
			return this;
		};
		return obj;
	}
};
var newObj = DataModleFactory.createObj();
newObj.setStr("change");
console.info(newObj);
// Check browser support
if (typeof(Storage) !== "undefined") {
	//var temp = localStorage.getItem("lastname");
   // console.info("last:");
    //console.info(temp);
    // Store
    //var num = Math.random();
    var str = JSON.stringify(newObj);
    console.info(str);
    localStorage.setItem("lastObj", str);
    // Retrieve
    //document.getElementById("result").innerHTML = localStorage.getItem("lastname");
    //console.info(temp.num);
    console.info("now:");
    console.info(num);
} else {
    document.getElementById("result").innerHTML = "抱歉！您的浏览器不支持 Web Storage ...";
}
</script>

</body>
</html>
